<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.30.2" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Type Casts &middot; Ante</title>

  
  <link rel="stylesheet" href="https://jfecher.github.io/ante/public/css/print.css" media="print">
  <link rel="stylesheet" href="https://jfecher.github.io/ante/public/css/poole.css">
  <link rel="stylesheet" href="https://jfecher.github.io/ante/public/css/syntax.css">
  <link rel="stylesheet" href="https://jfecher.github.io/ante/public/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Ante" />
</head>

  <body class=" ">
  <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://jfecher.github.io/ante/public/"><h1>Ante</h1></a>
      <p class="lead">
       A systems programming language focused on providing extreme extensibility without compromising on speed or readability 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="https://jfecher.github.io/ante/public/">Home</a> </li>
      <li><a href="/ante/public/tutorial/blocks/"> Blocks </a></li><li><a href="/ante/public/compiler-extensions/build-system/"> Build System </a></li><li><a href="/ante/public/tutorial/compiler-directives/"> Compiler Directives </a></li><li><a href="/ante/public/tutorial/functions/"> Functions </a></li><li><a href="/ante/public/tutorial/if/"> If </a></li><li><a href="/ante/public/tutorial/literals/"> Literals </a></li><li><a href="/ante/public/tutorial/loops/"> Loops </a></li><li><a href="/ante/public/tutorial/modifiers/"> Modifiers </a></li><li><a href="/ante/public/tutorial/modules/"> Modules </a></li><li><a href="/ante/public/tutorial/operators/"> Operators </a></li><li><a href="/ante/public/tutorial/pattern-matching/"> Pattern Matching </a></li><li><a href="/ante/public/tutorial/traits/"> Traits </a></li><li><a href="/ante/public/tutorial/type-casts/"> Type Casts </a></li><li><a href="/ante/public/tutorial/type-declarations/"> Type Declarations </a></li><li><a href="/ante/public/tutorial/types/"> Types </a></li><li><a href="/ante/public/tutorial/variables/"> Variables </a></li>
    </ul>

    <p>&copy; 2017. All rights reserved. </p>
  </div>
</div>

    <div class="content container">
    <div class="post">
  <h1>Type Casts</h1>
  <span class="post-date">Wed, Nov 15, 2017</span>
  

<p>Type casts in Ante are performed with the <code>Type val</code> syntax in
which <code>val</code> is casted to the type <code>Type</code>.  Unlike functions,
type casts cast a singular value to another type, and thus its
arguments are not separated by spaces.  If multiple arguments
are needed to cast to a given type they can be wrapped in a tuple.
The contents of the tuple should match the tuple that the type
was originally defined as.</p>
<div class="highlight"><pre><code class="language-ante" data-lang="ante"><span></span><span class="k">type</span> <span class="kt">Person</span> <span class="o">=</span> <span class="kt">Str</span> name<span class="o">,</span> <span class="kt">u8</span> age  <span class="c c-Singleline">//Str and u8</span>

<span class="k">let</span> p <span class="o">=</span> <span class="kt">Person</span><span class="p">(</span><span class="s">&quot;Mary&quot;</span><span class="o">,</span> <span class="mi">42u8</span><span class="p">)</span> <span class="c c-Singleline">//Str and u8</span>
</code></pre></div>

<h2 id="explicit-casts">Explicit Casts</h2>

<p>All casts in Ante are explicit by default, and only through a
compiler extension can they be made implicit.</p>
<div class="highlight"><pre><code class="language-ante" data-lang="ante"><span></span><span class="k">let</span> three <span class="o">=</span> <span class="kt">Str</span> <span class="mi">3</span>  <span class="c c-Singleline">//=&gt; &quot;3&quot;</span>

<span class="k">fun</span> <span class="nf">add:</span> <span class="kt">usz</span> a b <span class="o">=</span> a <span class="o">+</span> b

add <span class="mi">4u8</span> <span class="mi">5u8</span>  <span class="c c-Singleline">//=&gt; error, mismatching types!</span>
add <span class="mi">4usz</span> <span class="mi">5usz</span>  <span class="c c-Singleline">//good!</span>
</code></pre></div>

<h2 id="generic-casts">Generic Casts</h2>

<p>When casting to generic types, Ante makes gracious use of type
inference, inferring the specific variant of the generic type based
on the type being cast from and the cast functions available.</p>
<div class="highlight"><pre><code class="language-ante" data-lang="ante"><span></span><span class="c c-Singleline">// cast from [3 i32] to Vec i32</span>
<span class="k">let</span> v <span class="o">=</span> <span class="kt">Vec</span><span class="p">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div>

<p>If the specific generic variant is ever needed to be explicitly stated,
such as when declaring an empty container type, the type arguments
follow the type name.</p>
<div class="highlight"><pre><code class="language-ante" data-lang="ante"><span></span><span class="k">let</span> empty <span class="o">=</span> <span class="kt">Vec</span> <span class="kt">i32</span><span class="p">()</span>
</code></pre></div>

<h2 id="implicit-casts">Implicit Casts</h2>

<p>Implicit casts can be achieved with the <code>!implicit</code> compiler directive.
See its section in <a href="../compiler-directives">compiler directives</a>.</p>

</div>


    </div>

    
  </body>
</html>