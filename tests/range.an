
data Range is Iterable
    i32 start end step




impl Range
    ~Required by Iterable, returns true if loop should end
    bool done:
        return start > end

    ~Required by Iterable, called at end of each iteration
    void iter:
        start += step

    ~Required by Iterable, returns the current element
    i32 unpack:
        return start


    let op(".."): i32 s e = 
        let r = Range{
            start = s, 
            end = e,
            step = 1
        }.done = fun -> start >= end

    let init(): i32 s e =
        start = s
        end = e
        step = 1


for i in 1 .. 10
    printf("Loop iteration %d\n", i)
